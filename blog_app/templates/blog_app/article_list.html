<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
<!-- importing Materialize, Font Awsome, and Google Icon Font -->
    <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- font awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
        integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

    <title>Pouria's Blog</title>

<!-- custom CSS for overriding Materialize -->
<style>

    body {
      background-image: url("{% static 'blog_app/images/website_background.jpg' %}");
      background-size: cover; /* Ensures the image covers the entire background */
      background-repeat: no-repeat; /* Prevents the image from repeating */
      background-attachment: fixed; /* Fixes the background, so it doesn't scroll */
      background-position: center; /* Centers the background image */
      min-height: 100vh; /* Ensures the body covers the viewport height */
      margin: 0; /* Removes default margin */
    }


    .nav-wrapper .brand-logo img {
      max-height: 64px; /* Ensure the image height doesn't exceed the navbar */
      width: auto; /* Maintain aspect ratio */
      vertical-align: middle; /* Center the image vertically */
    }

    /* Center the brand logo vertically within the navbar */
    .nav-wrapper .brand-logo {
      display: flex;
      align-items: center;
    }

    .nav-wrapper .brand-logo img {
      max-height: 64px; /* Ensure the image height doesn't exceed the navbar */
      width: auto; /* Maintain aspect ratio */
      vertical-align: middle; /* Center the image vertically */
    }

    /* Center the brand logo vertically within the navbar */
    .nav-wrapper .brand-logo {
      display: flex;
      align-items: center;
    }


    /* Custom multi-line truncation (Materialize has only one-line) */
    .multi-line-truncate {
      display: -webkit-box;
      -webkit-line-clamp: 5; /* Number of lines to show before truncating */
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .text-overlay {
      position: relative;
      z-index: 1;
      color: #fff;
      padding: 15px; /* Adjust the padding to create extra space */
    }

    .text-overlay::before {
      content: '';
      position: absolute;
      top: -10px; /* Adjust this value to control the border outside the padding */
      left: -10px;
      right: -10px;
      bottom: -10px;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: -1;
      border-radius: 5px;
    }



</style>
</head>

<!-- navbar -->
<body>
  <div class="navbar-fixed">
    <nav class="nav-wrapper grey darken-4">
      <div class="container">
        <a href="#" class="brand-logo">
            <img src="{% static 'blog_app/images/name.png' %}" alt="" class="responsive-img">
        </a>
        <a href="#" class="sidenav-trigger" data-target="mobile-links">
          <i class="material-icons teal-text">menu</i>
        </a>
        <ul class="right hide-on-med-and-down">
          <li><a href="" class="teal-text text-accent-2">Contact ^^</a></li>
          <li><a href="" class="teal-text text-accent-2">About Me <3</a></li>
          <li>
              {% if user.is_authenticated %}
              <a href="{% url 'logout' %}?next={{ request.path }}" class="teal-text text-accent-2">
                  Wanna Log out
                  <span class="amber-text text-lighten-1">{{user.username}}</span>? :(
              </a>
              {% else %}
              <a href="{% url 'login' %}?next={{ request.path }}"
                 class="btn teal lighten-2 grey-text text-darken-4">Login :) </a>
              {% endif %}
          </li>
        </ul>
      </div>
    </nav>
  </div>

  <!-- sidebar -->
  <ul class="sidenav grey darken-4" id="mobile-links">
      <li><a href="" class="teal-text text-accent-2">Contact :)</a></li>
      <li><a href="" class="teal-text text-accent-2">About Me</a></li>
      <li>
          {% if user.is_authenticated %}
          <a href="{% url 'logout' %}?next={{ request.path }}" class="teal-text text-accent-2">
              Wanna Log out
              <span class="amber-text text-lighten-1">{{user.username}}</span>? :(
          </a>
          {% else %}
          <a href="{% url 'login' %}?next={{ request.path }}"
             class="btn teal lighten-2 grey-text text-darken-4">Login :) </a>
          {% endif %}
      </li>

  </ul>

    <!-- article cards -->
    <div class="container">
    <div class="row">
        <div class="col s12 l12">
            <h2 class="teal-text text-accent-2 center-align">Blog <span class="amber-text text-lighten-1">Posts</span></h2>
            <h6 class="teal-text text-darken-2 center-align">I would be really happy if you read these :)</h6>
        </div>

     {% for article in articles %}
      <div class="col s12 l4">
        <div class="card grey darken-4">
          <div class="card-content">
            <span class="card-title amber-text text-lighten-1">{{ article.title }}</span>
            <p class="multi-line-truncate white-text">{{article.body}}</p>
            <span class="grey-text">by {% for author in article.authors.all %}
                {{ author.user.username }}{% if not forloop.last %}, {% endif %}
                {% endfor %}
            </span>
          </div>
          <div class="card-action">
            <a href="{% url 'blog_app:article_detail' article.id %}" class="teal-text text-accent-2">Read The Blogpost</a>
          </div>
        </div>
      </div>

        {% empty %}
        <p>No articles available.</p>
       {% endfor %}
    </div>
    </div>

    <!-- about me -->
  <div class="container">
      <div class="row">
          <div class="class l4 s12 ">
              <h3 class="teal-text text-accent-2">About<span class="amber-text text-lighten-1"> Me</span></h3>
              <div class="text-overlay">
                  <strong class="teal-text text-accent-2 center-align">
                    Hello! I am interested in computer science, mathematics, and programming. I love developing creative ideas with code and working on various projects that reflect these interests. Indeed, there is nothing quite like satisfaction if something you have been building opens its eyes.

                    Although I am currently an undergraduate student in Computer Science at the University of Isfahan, my self-motivation and curiosity drive me to learn continuously. I always get excited about entering a new frontier and learning new skills. Currently, as a student, I am focusing on learning and growing, but when it comes to your cool job offerings and internships that rhyme with my interests, I will most definitely consider working on them.

                    Proficient in English, actively learning German, and Fluent in Persian, I enjoy connecting with people across the world and collaborating on innovative ideas. Thanks for stopping by my siteâ€”I look forward to connecting!
                  </strong>
              </div>
          </div>
      </div>
  </div>






{% if user_role == ADMIN_ROLE %}
<a href="{% url 'blog_app:article_create' %}">Add an Article!</a>
{%endif%}

  <!-- jQuery for adding logic to elements -->
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
  <script>
    $(document).ready(function(){
      $('.sidenav').sidenav();
    });
  </script>

</body>

</html>
