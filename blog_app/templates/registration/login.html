<html lang="en">
{% load static %}
<head>
    <title>Login</title>

   <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- font awesome -->
    <script src="https://kit.fontawesome.com/032ea820f5.js" crossorigin="anonymous"></script>
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

    <!-- custom CSS for overriding Materialize -->
   <link rel="stylesheet" href="{% static 'blog_app/css/layout.css' %}">
   <link rel="stylesheet" href="{% static 'blog_app/css/background.css' %}">
</head>

<body>
<!-- navbar -->

  <div class="navbar-fixed">
    <nav class="nav-wrapper grey darken-4">
      <div class="container">
        <a href="#" class="brand-logo">
            <img src="{% static 'blog_app/images/name.png' %}" alt="" class="responsive-img">
        </a>
        <a href="#" class="sidenav-trigger waves-effect waves-light" data-target="mobile-links">
          <i class="fa-solid fa-bars fa-xl teal-text" ></i>
        </a>
        <ul class="right hide-on-med-and-down">
          <li><a href="#contact-me " class="teal-text text-accent-2 waves-effect waves-light">Contact</a></li>
          <li><a href="#about-me" class="teal-text text-accent-2 waves-effect waves-light">About Me</a></li>


              {% if user.is_authenticated %}
            <li class="teal-text ">

                  Logged in as
                  <span class="amber-text text-darken-2">{{user.username}}</span>
            </li>

            <li>
                  <a href="{% url 'logout' %}?next={{ request.path }}" class="teal-text text-accent-2 tooltipped waves-effect waves-light" data-position="bottom" data-tooltip="Log Out">
                      <i class="fa-solid fa-right-from-bracket fa-xl teal-text" ></i>
                  </a>
            </li>

              {% else %}
            <li>
              <a href="{% url 'login' %}?next={{ request.path }}"
                 class="btn teal lighten-2 grey-text text-darken-4 waves-effect waves-light">
                  <i class="fa-solid fa-right-to-bracket fa-xl amber-text text-accent-2" ></i>
                  Login
              </a>
            </li>
              {% endif %}

        </ul>
      </div>
    </nav>
  </div>

  <!-- sidebar -->
  <ul class="sidenav grey darken-4" id="mobile-links">
      <li><a href="#contact-me" class="teal-text text-accent-2 waves-effect waves-light">Contact</a></li>
      <li><a href="#about-me" class="teal-text text-accent-2 waves-effect waves-light">About Me</a></li>
      <li>
          {% if user.is_authenticated %}
            <li class="teal-text">
              <div class="container">
              Logged in as
              <span class="amber-text text-darken-2"> {{user.username}}
                <a href="{% url 'logout' %}?next={{ request.path }}" class="teal-text text-accent-2 tooltipped waves-effect waves-light" data-position="bottom" data-tooltip="Log Out">
                    <i class="fa-solid fa-right-from-bracket fa-xl teal-text" ></i>
                </a>
              </span>
                  </div>

            </li>

              {% else %}
            <li>
              <a href="{% url 'login' %}?next={{ request.path }}"
                 class="btn teal lighten-2 grey-text text-darken-4 waves-effect waves-light">
                  <i class="fa-solid fa-right-to-bracket fa-xl amber-text text-accent-2" ></i>
                  Login
              </a>
            </li>
          {% endif %}

       </ul>

 <div class="container text-overlay">
    <form method="post">
    {% csrf_token %}
    {{ form.non_field_errors }}
    <div class="input-field teal-text">
        {{ form.username }}
        <label for="username">Username</label>
        {{ form.username.errors }}
    </div>
    <div class="input-field">
        {{ form.password }}
        <label for="password">Password</label>
        {{ form.password.errors }}
    </div>
    <button type="submit" class="btn">Login</button>
    <input type="hidden" name="next" value="{{ next }}">
</form>






  <!-- jQuery for adding logic to elements -->
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
  <script src="{% static 'blog_app/js/base.js' %}"></script>

</body>

</html>
